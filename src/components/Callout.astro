---
import { cn } from '~/lib/utils';

const calloutTypeMappings = {
    tip: {
        border: 'border-green-400',
        background: 'bg-green-400/40',
        text: 'text-green-200'
    },
    warn: {
        border: 'border-yellow-400',
        background: 'bg-yellow-400/40',
        text: 'text-yellow-200'
    },
    error: {
        border: 'border-red-400',
        background: 'bg-red-400/40',
        text: 'text-red-200'
    },
    info: {
        border: 'border-blue-400',
        background: 'bg-blue-400/40',
        text: 'text-blue-200'
    }
};

interface Props {
    type: keyof typeof calloutTypeMappings;
}

const { type } = Astro.props as Props;
const typeMapping = calloutTypeMappings[type];
---

<div class={cn('my-8 rounded border', typeMapping.border)}>
    <span class={cn('flex items-center gap-3 p-3', typeMapping.background, typeMapping.text)}>
        {
            type === 'tip' && (
                <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="24"
                    height="24"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    class="lucide lucide-flame text-green-400"
                >
                    <path d="M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z" />
                </svg>
            )
        }
        {
            type === 'warn' && (
                <svg
                    xmlns="http://www.w3.org/2000/svg"
                    class="icon icon-tabler icon-tabler-alert-triangle h-4 w-4 text-yellow-400"
                    width="44"
                    height="44"
                    viewBox="0 0 24 24"
                    stroke-width="1.5"
                    stroke="currentColor"
                    fill="none"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                >
                    <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                    <path d="M10.24 3.957l-8.422 14.06a1.989 1.989 0 0 0 1.7 2.983h16.845a1.989 1.989 0 0 0 1.7 -2.983l-8.423 -14.06a1.989 1.989 0 0 0 -3.4 0z" />
                    <path d="M12 9v4" />
                    <path d="M12 17h.01" />
                </svg>
            )
        }
        {
            type === 'error' && (
                <svg
                    xmlns="http://www.w3.org/2000/svg"
                    class="icon icon-tabler icon-tabler-skull h-4 w-4"
                    width="44"
                    height="44"
                    viewBox="0 0 24 24"
                    stroke-width="1.5"
                    stroke="currentColor"
                    fill="none"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                >
                    <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                    <path d="M12 4c4.418 0 8 3.358 8 7.5c0 1.901 -.755 3.637 -2 4.96l0 2.54a1 1 0 0 1 -1 1h-10a1 1 0 0 1 -1 -1v-2.54c-1.245 -1.322 -2 -3.058 -2 -4.96c0 -4.142 3.582 -7.5 8 -7.5z" />
                    <path d="M10 17v3" />
                    <path d="M14 17v3" />
                    <path d="M9 11m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0" />
                    <path d="M15 11m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0" />
                </svg>
            )
        }
        {
            type === 'info' && (
                <svg
                    xmlns="http://www.w3.org/2000/svg"
                    class="icon icon-tabler icon-tabler-info-circle h-4 w-4"
                    width="44"
                    height="44"
                    viewBox="0 0 24 24"
                    stroke-width="1.5"
                    stroke="currentColor"
                    fill="none"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                >
                    <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                    <path d="M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0" />
                    <path d="M12 9h.01" />
                    <path d="M11 12h1v4h1" />
                </svg>
            )
        }
        <span class="text-xs font-semibold capitalize">{type}</span>
    </span>
    <span class="block px-3 text-xs">
        <slot />
    </span>
</div>
